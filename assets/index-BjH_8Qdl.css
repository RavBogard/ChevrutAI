body{margin:0;padding:0}:root{--primary-color: #3b82f6;--accent-color: #6366f1;--sidebar-bg: #f9fafb;--sidebar-text: #1f2937;--sheet-bg: #ffffff;--sheet-text: #1f2937;--message-user-bg: #e5e7eb;--message-user-text: #1f2937;--message-bot-bg: transparent;--border-color: #e5e7eb;--input-bg: #ffffff;--font-ui: "Inter", system-ui, -apple-system, sans-serif;--font-english-serif: "Merriweather", "Georgia", serif;--source-bg: #ffffff}body.dark-mode{--sidebar-bg: #111827;--sidebar-text: #f3f4f6;--sheet-bg: #0f1117;--sheet-text: #e5e7eb;--source-bg: #1f2937;--border-color: #374151;--input-bg: #1f2937;--message-user-bg: #374151;--message-user-text: #ffffff}body{margin:0;padding:0;overflow:hidden;font-family:var(--font-ui);-webkit-font-smoothing:antialiased;transition:background-color .3s,color .3s}h1,h2,h3,h4,h5,h6{font-family:var(--font-english-serif);font-weight:700}.app-container{display:flex;width:100vw;height:100vh;background-color:var(--sidebar-bg);color:var(--sheet-text);overflow:hidden}.chat-sidebar{width:100%;height:100%;background-color:var(--sidebar-bg);color:var(--sidebar-text);display:flex;flex-direction:column;border-right:none;z-index:10}.resizer{width:4px;cursor:col-resize;background-color:var(--border-color);transition:background-color .2s;z-index:20}.resizer:hover,.resizer:active{background-color:var(--primary-color);width:4px}.chat-header{padding:.75rem 1.5rem;border-bottom:1px solid var(--border-color);background:var(--sidebar-bg);position:relative;display:flex;align-items:center;justify-content:space-between}.header-top-row{display:flex;width:100%;justify-content:space-between;align-items:center}.header-controls{display:flex;gap:.5rem}.messages-list{flex:1;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1.5rem}.message{display:flex;flex-direction:column;gap:.5rem;max-width:100%}.message.user{align-items:flex-end}.message.user .message-content{background-color:var(--message-user-bg);color:var(--message-user-text);padding:.8rem 1.2rem;border-radius:18px 4px 18px 18px;max-width:85%;font-size:.95rem;line-height:1.5}.message.model{align-items:flex-start}.message.model .message-content{background:transparent;color:var(--sidebar-text);padding:0;max-width:100%;font-size:.95rem;line-height:1.6}.suggested-sources{margin-top:1rem;display:flex;flex-direction:column;gap:.75rem}.suggested-sources h4{margin:0 0 .5rem;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;opacity:.7}.source-suggestion-card{background:var(--sheet-bg);border:1px solid var(--border-color);border-left:3px solid var(--primary-color);border-radius:8px;padding:.8rem;display:flex;flex-direction:column;gap:.5rem;overflow:hidden;transition:transform .2s,box-shadow .2s;color:var(--sheet-text)}.source-suggestion-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.source-info strong{display:block;font-size:.95rem;margin-bottom:.2rem;color:var(--primary-color)}.source-summary{font-size:.85rem;opacity:.9;line-height:1.4;display:block}.add-source-btn{align-self:flex-start;margin-top:.5rem;background-color:var(--primary-color);color:#fff;border:none;border-radius:6px;padding:.4rem .8rem;font-size:.8rem;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:.4rem;transition:background .2s}.add-source-btn:hover{background-color:#2563eb}.chat-input-container{padding:1rem 1.5rem 1.5rem;background-color:var(--sidebar-bg);flex-shrink:0;position:relative;z-index:20}.chat-textarea{box-sizing:border-box;width:100%;min-height:120px;max-height:300px;padding:14px 16px 44px;border-radius:12px;border:1px solid var(--border-color);background-color:var(--input-bg);color:var(--sidebar-text);font-family:inherit;font-size:.95rem;line-height:1.5;resize:none;outline:none;box-shadow:0 1px 2px #0000000d;transition:border-color .2s,box-shadow .2s;overflow:hidden}.chat-textarea:not([style*="height: auto"]){overflow-y:auto}.chat-textarea:focus{border-color:var(--primary-color);box-shadow:0 0 0 2px #3b82f633}.chat-textarea::placeholder{color:#9ca3af;opacity:.8}.send-button{position:absolute;left:28px;bottom:28px}.empty-prompts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem;margin:3rem auto 0;width:100%;max-width:900px}.prompt-card{background-color:var(--sheet-bg);border:1px solid var(--border-color);color:var(--sheet-text);padding:1.5rem;border-radius:16px;cursor:pointer;text-align:left;transition:all .2s cubic-bezier(.25,.8,.25,1);box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008;display:flex;align-items:center;gap:1rem;font-size:1rem;line-height:1.5;height:100%;border-left:4px solid transparent}.prompt-card:hover{transform:translateY(-4px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border-color:var(--primary-color);border-left-color:var(--primary-color)}.prompt-icon{font-size:1.5rem;background:var(--input-bg);width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;flex-shrink:0}body.dark-mode .source-suggestion-card{background:#1f2937;border-color:#374151}.initial-theme-toggle{background:transparent;color:var(--sheet-text);border:1px solid var(--border-color)}.initial-theme-toggle:hover{background:#7d7d7d1a}.theme-toggle-btn{background:transparent;border:1px solid transparent;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#9ca3af;transition:all .2s}.theme-toggle-btn:hover{background-color:#ffffff1a;color:#f3f4f6}body.dark-mode .prompt-card{background-color:#1f2937;border-color:#374151}body.dark-mode .prompt-card:hover{background-color:#374151}.loading-indicator{padding:1rem;background-color:var(--message-bot-bg);border:1px solid var(--border-color);border-radius:12px 12px 12px 2px;align-self:flex-start;color:#9ca3af;font-size:.9rem;display:flex;flex-direction:column;gap:.5rem;animation:fadeIn .3s ease}.typing-dots{display:flex;gap:4px}.typing-dot{width:6px;height:6px;border-radius:50%;background-color:#9ca3af;animation:typing 1.4s infinite ease-in-out both}.typing-dot:nth-child(1){animation-delay:-.32s}.typing-dot:nth-child(2){animation-delay:-.16s}@keyframes typing{0%,80%,to{transform:scale(0);opacity:.5}40%{transform:scale(1);opacity:1}}.sheet-view{flex:1;background-color:var(--sheet-bg);color:var(--sheet-text);overflow-y:auto;padding:2rem 4rem;display:flex;flex-direction:column;align-items:center}.sheet-header{text-align:center;margin-bottom:3rem;border-bottom:2px solid #e5e7eb;padding-bottom:1rem;width:100%;max-width:900px}.sheet-header h1{font-family:var(--font-english-serif);font-size:2.5rem;color:#111827;margin:0}.sheet-meta{color:#6b7280;font-style:italic;margin-top:.5rem}.sheet-paper{width:100%;max-width:900px;display:flex;flex-direction:column;gap:2rem}.empty-state{text-align:center;color:#9ca3af;margin-top:4rem;font-size:1.1rem}.source-block{background:var(--source-bg);color:var(--sheet-text);border-left:4px solid var(--primary-color);padding:1rem 1.5rem;box-shadow:0 4px 6px -1px #0000000d;border-radius:0 8px 8px 0;transition:all .2s}.source-block:hover{box-shadow:0 10px 15px -3px #0000001a}.source-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;border-bottom:1px solid #f3f4f6;padding-bottom:.5rem}.source-header h3{margin:0;font-family:var(--font-english-serif);color:var(--primary-color);font-size:1.2rem}.source-controls{display:flex;gap:.5rem;align-items:center}.view-toggle{padding:.3rem;border-radius:4px;border:1px solid var(--border-color);font-size:.8rem;color:var(--sheet-text);background-color:var(--source-bg)}.remove-btn{background:transparent;color:#9ca3af;border:none;font-size:1.2rem;line-height:1;padding:0 .4rem}.remove-btn:hover{color:#ef4444;background:transparent}.source-content{display:flex;gap:2rem;font-size:1.1rem;line-height:1.6}.text-eng,.text-heb{flex:1}.text-eng{font-family:var(--font-english-serif)}.text-heb{font-family:var(--font-hebrew);text-align:right;font-size:1.3rem}.view-english .text-heb,.view-hebrew .text-eng{display:none}@media(max-width:768px){.app-container{flex-direction:column;height:100vh;overflow:hidden}.sheet-view{height:100%;width:100%;padding:1rem;overflow-y:auto;padding-bottom:80px}.chat-sidebar{position:fixed;bottom:0;left:0;width:100%;height:85vh;max-height:85vh;background-color:var(--sidebar-bg);z-index:100;border-radius:20px 20px 0 0;box-shadow:0 -4px 20px #0006;transform:translateY(110%);transition:transform .3s cubic-bezier(.16,1,.3,1);border-right:none;display:flex}.chat-sidebar.mobile-open{transform:translateY(0)}.chat-header{padding:1rem;display:flex;flex-direction:column;align-items:flex-start}.header-top-row{display:flex;width:100%;justify-content:space-between;align-items:center}.sidebar-logo{max-height:40px!important;min-height:0;width:auto;padding-right:0;margin-bottom:0}.header-controls{position:static;background:transparent;padding:0}.mobile-close-btn{display:block;background:none;border:none;color:#9ca3af;font-size:2rem;cursor:pointer;padding:0 .5rem}.mobile-chat-fab{display:flex;align-items:center;justify-content:center;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background-color:var(--primary-color);color:#fff;border:none;box-shadow:0 4px 12px #0000004d;z-index:90;cursor:pointer;transition:transform .2s}.mobile-chat-fab:active{transform:scale(.95)}.mobile-chat-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:95;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:fadeBackdrop .3s}.sheet-header h1,.title-input{font-size:1.8rem}.source-content{flex-direction:column;gap:1rem}.text-heb{order:1;text-align:right}.text-eng{order:2}}@media(min-width:769px){.mobile-chat-fab,.mobile-close-btn,.mobile-chat-backdrop{display:none!important}}@keyframes fadeBackdrop{0%{opacity:0}to{opacity:1}}.header-actions{margin-top:1rem}.export-btn{background-color:var(--primary-color);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-family:inherit;font-size:.875rem;transition:opacity .2s}.google-btn{background:#4285f4;margin-right:.5rem}.google-btn:disabled{background:#a0c3ff;cursor:not-allowed}.export-btn:hover{background-color:#2563eb}.header-left{display:flex;align-items:center;gap:.8rem}.drag-handle{touch-action:none;cursor:grab;display:flex;align-items:center;justify-content:center;padding:.2rem;border-radius:4px;transition:background .2s}.drag-handle:hover{background-color:#f3f4f6}.drag-handle:active{cursor:grabbing}.source-header h3{margin:0}.sortable-item{touch-action:manipulation}.sidebar-logo-text{display:flex;align-items:center;font-size:1.5rem;line-height:1;gap:1px;-webkit-user-select:none;user-select:none;cursor:pointer}.logo-serif{font-family:var(--font-english-serif);font-weight:700;color:var(--sidebar-text);letter-spacing:-.03em}.logo-sans{font-family:var(--font-ui);font-weight:700;background:linear-gradient(90deg,#4285f4,#9b72cb,#d96570);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-right:4px}.logo-sparkle{display:flex;align-items:center;margin-top:-4px}.version-select{padding:.3rem;border-radius:4px;border:1px solid #d1d5db;font-size:.8rem;color:#374151;background-color:#fff;text-overflow:ellipsis}.version-label{display:block;margin-top:.5rem;font-size:.75rem;color:#9ca3af;font-style:italic;font-family:var(--font-ui)}.loading-text{color:#6b7280;font-style:italic;text-align:center;width:100%}.sheet-footer{margin-top:3rem;padding:2rem;text-align:center;color:#9ca3af;font-size:.9rem;border-top:1px solid #e5e7eb;width:100%;max-width:900px}.sheet-footer a{color:var(--primary-color);text-decoration:none}.sheet-footer a:hover{text-decoration:underline}.footer-legal{margin-top:.5rem;font-size:.8rem}.version-tag{color:#6b7280;font-size:.75rem;opacity:.8}.title-input{font-family:var(--font-english-serif);font-size:2.5rem;color:var(--sheet-text);text-align:center;border:none;border-bottom:2px solid transparent;background:transparent;width:100%;max-width:900px;outline:none;padding:.5rem;transition:border-color .2s}.title-input:focus{border-bottom-color:var(--primary-color)}.export-success-msg{margin:1rem 0;padding:1rem;background-color:#ecfdf5;border:1px solid #10b981;border-radius:8px;animation:fadeIn .5s}.open-doc-link{color:#059669;font-weight:700;font-size:1.1rem;text-decoration:none}.open-doc-link:hover{text-decoration:underline}.central-hero{text-align:center;margin-bottom:2rem;width:100%;max-width:800px;margin:0 auto 3rem}.central-hero h2{font-family:var(--font-ui);font-size:3rem;font-weight:500;margin-bottom:.5rem;color:#444746;background:linear-gradient(90deg,#4285f4,#9b72cb,#d96570);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:inline-block;letter-spacing:-.02em}body.dark-mode .central-hero h2{background:linear-gradient(90deg,#8ab4f8,#c58af9,#f28b82);-webkit-background-clip:text}.central-hero p{font-size:1.25rem;color:#5f6368;margin-bottom:2.5rem;font-weight:300}body.dark-mode .central-hero p{color:#9aa0a6}.central-input-wrapper{position:relative;width:100%;max-width:700px;margin:0 auto}.central-textarea{width:100%;min-height:56px;padding:18px 56px 18px 24px;border-radius:28px;border:1px solid #e0e0e0;background-color:#f0f4f9;color:#1f1f1f;font-family:inherit;font-size:1.1rem;line-height:1.5;resize:none;outline:none;transition:background-color .2s,box-shadow .2s;overflow:hidden;box-shadow:none}.central-textarea:focus{background-color:#fff;box-shadow:0 1px 6px #20212447;border-color:transparent}.central-textarea::placeholder{color:#5f6368;opacity:.8}body.dark-mode .central-textarea{background-color:#1e1f20;border-color:#444746;color:#e3e3e3}body.dark-mode .central-textarea:focus{background-color:#282a2c;box-shadow:0 1px 6px #00000080}.send-button{position:absolute;left:12px;bottom:12px;width:36px;height:36px;border-radius:50%;background-color:var(--primary-color);color:#fff;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s,background-color .2s;z-index:10}.send-button svg{width:20px;height:20px}.central-send-btn{position:absolute;right:12px;bottom:8px;width:40px;height:40px;border-radius:50%;background-color:transparent;color:#5f6368;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.central-send-btn svg{width:24px;height:24px}.central-send-btn:disabled{background-color:#9ca3af;opacity:.7;cursor:not-allowed}.central-send-btn:not(:disabled):hover{background-color:#1f1f1f14;color:#1f1f1f}body.dark-mode .central-send-btn{color:#e3e3e3}body.dark-mode .central-send-btn:not(:disabled):hover{background-color:#e3e3e314}.chat-textarea,.central-textarea{box-sizing:border-box}.empty-prompts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;margin:3rem auto 0;width:100%;max-width:900px}.prompt-card{background-color:#f0f4f9;border:1px solid transparent;color:#1f1f1f;padding:1.5rem;border-radius:12px;cursor:pointer;text-align:left;transition:all .2s cubic-bezier(.2,0,0,1);font-size:1.15rem;font-weight:500;line-height:1.4;display:flex;align-items:center;min-height:100px;position:relative;overflow:hidden}.prompt-card:hover{background-color:#e2e7eb;border-color:transparent;transform:translateY(-2px);box-shadow:0 4px 8px #0000000d}.prompt-icon{display:none}body.dark-mode .prompt-card{background-color:#1e1f20;border-color:#444746;color:#e3e3e3}body.dark-mode .prompt-card:hover{background-color:#282a2c;border-color:#5f6368}.prompt-card span:nth-child(2){font-weight:400}.export-menu-container{position:relative;display:inline-block}.export-main-btn{background-color:var(--primary-color);color:#fff;border:none;padding:.6rem 1.2rem;border-radius:6px;cursor:pointer;font-family:inherit;font-weight:500;display:flex;align-items:center;gap:.5rem;transition:background-color .2s}.export-main-btn:hover{background-color:#2563eb}.export-dropdown{position:absolute;top:100%;right:0;margin-top:.5rem;background-color:#fff;min-width:180px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border-radius:6px;border:1px solid #e5e7eb;z-index:50;overflow:hidden;animation:fadeIn .15s ease-out}.export-dropdown button{display:block;width:100%;padding:.75rem 1rem;text-align:left;background:none;border:none;color:#374151;font-size:.9rem;cursor:pointer;transition:background-color .1s}.export-dropdown button:hover{background-color:#f3f4f6;color:var(--primary-color)}

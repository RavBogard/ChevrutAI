body{margin:0;padding:0}:root{--primary-color: #1e40af;--accent-color: #d97706;--sidebar-bg: #f8fafc;--sidebar-text: #334155;--sheet-bg: #ffffff;--sheet-text: #0f172a;--message-user-bg: #f1f5f9;--message-user-text: #334155;--message-bot-bg: transparent;--border-color: #e2e8f0;--input-bg: #ffffff;--font-ui: "Inter", system-ui, -apple-system, sans-serif;--font-english-serif: "Merriweather", "Georgia", serif;--font-hebrew: "Heebo", "Arial Hebrew", sans-serif;--source-bg: #ffffff}[data-theme=dark]{--primary-color: #60a5fa;--sidebar-bg: #0f172a;--sidebar-text: #e2e8f0;--sheet-bg: #020617;--sheet-text: #f8fafc;--source-bg: #1e293b;--border-color: #334155;--input-bg: #1e293b;--message-user-bg: #1e293b;--message-user-text: #f8fafc}body{margin:0;padding:0;overflow:hidden;font-family:var(--font-ui);-webkit-font-smoothing:antialiased;transition:background-color .3s,color .3s}h1,h2,h3,h4,h5,h6{font-family:var(--font-english-serif);font-weight:700}.app-container{display:flex;width:100vw;height:100vh;background-color:var(--sidebar-bg);color:var(--sheet-text);overflow:hidden}.chat-sidebar{width:100%;height:100%;background-color:var(--sidebar-bg);color:var(--sidebar-text);display:flex;flex-direction:column;border-right:none;z-index:10}@media(max-width:768px){.chat-sidebar{background-color:var(--sidebar-bg)}}.resizer{width:4px;cursor:col-resize;background-color:var(--border-color);transition:background-color .2s;z-index:20}.resizer:hover,.resizer:active{background-color:var(--primary-color);width:4px}.chat-header{padding:1rem 1rem .5rem;border-bottom:1px solid var(--border-color);background:var(--sidebar-bg);position:relative;display:flex;flex-direction:column;gap:.5rem}.header-top-row{display:flex;width:100%;justify-content:space-between;align-items:center}.header-controls{display:flex;gap:.5rem}.messages-list{flex:1;overflow-y:auto;padding:1.5rem;display:flex;flex-direction:column;gap:1.5rem;min-height:0}.message{display:flex;flex-direction:column;gap:.5rem;max-width:100%}.message.user{align-items:flex-end}.message.user .message-content{background-color:var(--message-user-bg);color:var(--message-user-text);padding:.8rem 1.2rem;border-radius:18px 4px 18px 18px;max-width:85%;font-size:.95rem;line-height:1.5}.message.model{align-items:flex-start}.message.model .message-content{background:transparent;color:var(--sidebar-text);padding:0;max-width:100%;font-size:.95rem;line-height:1.6}.suggested-sources{margin-top:1rem;display:flex;flex-direction:column;gap:.75rem}.suggested-sources h4{margin:0 0 .5rem;font-size:.85rem;text-transform:uppercase;letter-spacing:.05em;opacity:.7}.source-suggestion-card{background:var(--sheet-bg);border:1px solid var(--border-color);border-left:3px solid var(--primary-color);border-radius:8px;padding:.8rem;display:flex;flex-direction:column;gap:.5rem;overflow:hidden;transition:transform .2s,box-shadow .2s;color:var(--sheet-text)}.source-suggestion-card:hover{transform:translateY(-2px);box-shadow:0 4px 12px #0000001a}.source-info strong{display:block;font-size:.95rem;margin-bottom:.2rem;color:var(--primary-color)}.source-summary{font-size:.85rem;opacity:.9;line-height:1.4;display:block}.add-source-btn{align-self:flex-start;margin-top:.5rem;background-color:var(--primary-color);color:#fff;border:none;border-radius:6px;padding:.4rem .8rem;font-size:.8rem;font-weight:500;cursor:pointer;display:flex;align-items:center;gap:.4rem;transition:background .2s}.add-source-btn:hover{background-color:#2563eb}.add-source-btn.added{background-color:#10b981;cursor:default;opacity:.9}.add-source-btn.added:hover{background-color:#10b981}.add-source-btn.added svg{margin-right:4px}.chat-input-container{padding:1rem 1.5rem 1.5rem;background-color:var(--sidebar-bg);flex-shrink:0;position:relative;z-index:20}.chat-textarea{box-sizing:border-box;width:100%;min-height:225px;max-height:500px;padding:18px 20px 52px;border-radius:14px;border:1px solid var(--border-color);background-color:var(--input-bg);color:var(--sidebar-text);font-family:var(--font-ui);font-size:1rem;line-height:1.6;resize:vertical;outline:none;box-shadow:0 2px 6px #0000001a;transition:border-color .2s,box-shadow .2s,min-height .2s ease;overflow-y:auto}.chat-textarea:focus{border-color:var(--primary-color);box-shadow:0 0 0 3px #8b5cf626}.chat-textarea::placeholder{color:#9ca3af;opacity:.8}.send-button{position:absolute;left:28px;bottom:28px}.empty-prompts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.25rem;margin:3rem auto 0;width:100%;max-width:900px}.prompt-card{background-color:var(--sheet-bg);border:1px solid var(--border-color);color:var(--sheet-text);padding:1.5rem;border-radius:16px;cursor:pointer;text-align:left;transition:all .2s cubic-bezier(.25,.8,.25,1);box-shadow:0 4px 6px -1px #0000000d,0 2px 4px -1px #00000008;display:flex;align-items:center;gap:1rem;font-size:1rem;line-height:1.5;height:100%;border-left:4px solid transparent}.prompt-card:hover{transform:translateY(-4px);box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border-color:var(--primary-color);border-left-color:var(--primary-color)}.prompt-icon{font-size:1.5rem;background:var(--input-bg);width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;flex-shrink:0}[data-theme=dark] .source-suggestion-card{background:#1f2937;border-color:#374151}.initial-theme-toggle{background:transparent;color:var(--sheet-text);border:1px solid var(--border-color)}.initial-theme-toggle:hover{background:#7d7d7d1a}.theme-toggle-btn{background:transparent;border:1px solid transparent;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#9ca3af;transition:all .2s}.theme-toggle-btn:hover{background-color:#ffffff1a;color:#f3f4f6}[data-theme=dark] .prompt-card{background-color:#1f2937;border-color:#374151}[data-theme=dark] .prompt-card:hover{background-color:#374151}.loading-indicator{padding:1rem;background-color:var(--message-bot-bg);border:1px solid var(--border-color);border-radius:12px 12px 12px 2px;align-self:flex-start;color:#9ca3af;font-size:.9rem;display:flex;flex-direction:column;gap:.5rem;animation:fadeIn .3s ease}.typing-dots{display:flex;gap:4px}.typing-dot{width:6px;height:6px;border-radius:50%;background-color:#9ca3af;animation:typing 1.4s infinite ease-in-out both}.typing-dot:nth-child(1){animation-delay:-.32s}.typing-dot:nth-child(2){animation-delay:-.16s}@keyframes typing{0%,80%,to{transform:scale(0);opacity:.5}40%{transform:scale(1);opacity:1}}.sheet-view{flex:1;background-color:var(--sheet-bg);color:var(--sheet-text);overflow-y:auto;padding:2rem 4rem;display:flex;flex-direction:column;align-items:center}.sheet-header{text-align:center;margin-bottom:3rem;border-bottom:2px solid #e5e7eb;padding-bottom:1rem;width:100%;max-width:900px}.sheet-header h1{font-family:var(--font-english-serif);font-size:2.5rem;color:#111827;margin:0}.sheet-meta{color:#6b7280;font-style:italic;margin-top:.5rem}.sheet-paper{width:100%;max-width:900px;display:flex;flex-direction:column;gap:2rem}.empty-state{text-align:center;color:#9ca3af;margin-top:4rem;font-size:1.1rem}.source-block{background:var(--source-bg);color:var(--sheet-text);border-left:4px solid var(--primary-color);padding:1rem 1.5rem;box-shadow:0 4px 6px -1px #0000000d;border-radius:0 8px 8px 0;transition:all .2s}.source-block:hover{box-shadow:0 10px 15px -3px #0000001a}.source-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;border-bottom:1px solid #f3f4f6;padding-bottom:.5rem}.source-header h3{margin:0;font-family:var(--font-english-serif);color:var(--primary-color);font-size:1.2rem}.source-controls{display:flex;gap:.5rem;align-items:center}.view-toggle{padding:.3rem;border-radius:4px;border:1px solid var(--border-color);font-size:.8rem;color:var(--sheet-text);background-color:var(--source-bg)}.remove-btn{background:transparent;color:#9ca3af;border:none;font-size:1.2rem;line-height:1;padding:0 .4rem}.remove-btn:hover{color:#ef4444;background:transparent}.source-content{display:flex;gap:2rem;font-size:1.1rem;line-height:1.6}.text-eng,.text-heb{flex:1}.text-eng{font-family:var(--font-english-serif)}.text-heb{font-family:var(--font-hebrew);text-align:right;font-size:1.45rem;line-height:1.6}.view-english .text-heb,.view-hebrew .text-eng{display:none}@media(max-width:768px){html,body{overflow-x:hidden;max-width:100vw}.app-container{flex-direction:column;height:100vh;overflow:hidden;max-width:100vw}.sheet-view{height:100%;width:100%;max-width:100vw;padding:1rem;overflow-x:hidden;overflow-y:auto;padding-bottom:80px;box-sizing:border-box}.chat-sidebar{width:100%;height:100%}.chat-header{padding:1rem;display:flex;flex-direction:column;align-items:flex-start}.header-top-row{display:flex;width:100%;justify-content:space-between;align-items:center}.sidebar-logo{max-height:40px!important;min-height:0;width:auto;padding-right:0;margin-bottom:0}.header-controls{position:static;background:transparent;padding:0}.mobile-close-btn{display:block;background:none;border:none;color:#9ca3af;font-size:2rem;cursor:pointer;padding:0 .5rem}.mobile-chat-fab{display:flex;align-items:center;justify-content:center;position:fixed;bottom:90px;right:20px;width:56px;height:56px;border-radius:50%;background-color:var(--primary-color);color:#fff;border:none;box-shadow:0 4px 12px #0000004d;z-index:90;cursor:pointer;transition:transform .2s}.mobile-chat-fab:active{transform:scale(.95)}.mobile-chat-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:95;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:fadeBackdrop .3s}.sheet-header h1,.title-input{font-size:1.8rem}.source-content{flex-direction:column;gap:1rem}.text-heb{order:1;text-align:right}.text-eng{order:2}.empty-prompts-grid{grid-template-columns:1fr!important;max-width:100%!important;gap:.5rem!important;margin-top:1.5rem!important}.prompt-card{padding:.75rem 1rem!important;font-size:.9rem!important;min-height:auto!important;border-radius:8px!important}.source-header{flex-direction:column;align-items:flex-start;gap:.75rem}.source-controls{width:100%;justify-content:space-between;flex-wrap:wrap;gap:.5rem}.version-select,.view-toggle{flex:0 0 100%;width:100%;margin-bottom:.25rem;max-width:none!important}}.central-hero{padding:0 .5rem;max-width:100%;width:100%;box-sizing:border-box}.central-hero p{font-size:.95rem;padding:0;margin-bottom:1.5rem;line-height:1.5;max-width:100%;word-wrap:break-word}.central-logo-text{font-size:clamp(1.75rem,10vw,3rem);flex-wrap:nowrap;justify-content:center;width:100%;margin-bottom:1rem;white-space:nowrap}.central-logo-text .logo-sparkle{margin-left:.2rem;display:inline-flex}.central-logo-text .logo-sparkle svg{width:.8em;height:.8em}.central-textarea{min-height:70px;padding:14px 50px 14px 16px;font-size:1rem;border-radius:16px}.initial-toggles{position:absolute;top:.5rem;right:.5rem;z-index:10}.initial-theme-toggle{width:32px;height:32px;background:#0000004d;border-radius:50%}[data-theme=dark] .initial-theme-toggle{background:#ffffff1a}.sheet-footer{padding:1.5rem 1rem}.sheet-footer p{font-size:.85rem}.footer-legal{font-size:.75rem}@media(max-width:400px){.central-logo-text{font-size:11vw}.central-logo-text .logo-sparkle svg{width:24px;height:24px}.central-hero p{font-size:.9rem}.empty-prompts-grid{gap:.4rem!important}.prompt-card{padding:.6rem .8rem!important;font-size:.85rem!important}}@media(min-width:769px){.mobile-chat-fab,.mobile-close-btn,.mobile-chat-backdrop{display:none!important}}@keyframes fadeBackdrop{0%{opacity:0}to{opacity:1}}.header-actions{margin-top:1rem}.export-btn{background-color:var(--primary-color);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-family:inherit;font-size:.875rem;transition:opacity .2s}.google-btn{background:#4285f4;margin-right:.5rem}.google-btn:disabled{background:#a0c3ff;cursor:not-allowed}.export-btn:hover{background-color:#2563eb}.header-left{display:flex;align-items:center;gap:.8rem}.drag-handle{touch-action:none;cursor:grab;display:flex;align-items:center;justify-content:center;padding:.2rem;border-radius:4px;transition:background .2s}.drag-handle:hover{background-color:#f3f4f6}.drag-handle:active{cursor:grabbing}.source-header h3{margin:0}.sortable-item{touch-action:manipulation}.sidebar-logo-text{display:flex;align-items:center;font-size:2rem;line-height:1;gap:2px;-webkit-user-select:none;user-select:none;cursor:pointer;padding-right:1rem}.logo-serif{font-family:var(--font-english-serif);font-weight:700;color:var(--sidebar-text);letter-spacing:-.01em}.logo-sans{font-family:var(--font-ui);font-weight:700;background:linear-gradient(90deg,#4285f4,#9b72cb,#d96570);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-right:4px}.logo-sparkle{display:flex;align-items:center;margin-top:-6px}.central-logo-text{display:flex;justify-content:center;align-items:center;font-size:4.5rem;margin-bottom:1rem;-webkit-user-select:none;user-select:none}.central-logo-text .logo-serif{font-family:var(--font-english-serif);color:var(--sheet-text)}.central-logo-text .logo-sparkle svg{width:48px;height:48px}.central-logo-text .logo-hebrew{font-family:var(--font-hebrew);font-weight:700;direction:rtl}.sheet-controls-row{display:flex;justify-content:center;width:100%;margin-bottom:1.5rem}.sheet-divider-line{border-bottom:1px solid var(--border-color);width:100%;max-width:800px;margin:0 auto 2rem}.title-input{font-family:Frank Ruhl Libre,serif;font-size:3rem;color:var(--sheet-text);text-align:center;border:none;border-bottom:2px solid transparent;background:transparent;width:100%;max-width:900px;outline:none;padding:.5rem;transition:border-color .2s;margin-bottom:0}.title-input:focus{border-bottom-color:var(--primary-color)}.export-success-msg{margin:1rem 0;padding:1rem;background-color:#ecfdf5;border:1px solid #10b981;border-radius:8px;animation:fadeIn .5s}.open-doc-link{color:#059669;font-weight:700;font-size:1.1rem;text-decoration:none}.open-doc-link:hover{text-decoration:underline}.central-hero{text-align:center;margin-bottom:2rem;width:100%;max-width:800px;margin:0 auto 3rem}.central-hero h2{font-family:var(--font-ui);font-size:3rem;font-weight:500;margin-bottom:.5rem;color:#444746;background:linear-gradient(90deg,#4285f4,#9b72cb,#d96570);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;display:inline-block;letter-spacing:-.02em}[data-theme=dark] .central-hero h2{background:linear-gradient(90deg,#8ab4f8,#c58af9,#f28b82);-webkit-background-clip:text;background-clip:text}.central-hero p{font-size:1.25rem;color:#5f6368;margin-bottom:2.5rem;font-weight:300}[data-theme=dark] .central-hero p{color:#9aa0a6}.central-input-wrapper{position:relative;width:100%;max-width:900px;margin:0 auto}.central-textarea{width:100%;min-height:90px;padding:2rem;box-sizing:border-box}.gemini-greeting{font-size:3rem;font-weight:500;color:#c4c7c5;background:linear-gradient(to right,#4285f4,#d96570);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin:0 0 .5rem;text-align:center;letter-spacing:-.02em}.gemini-headline{font-size:3rem;font-weight:500;color:#444746;margin:0 0 3rem;text-align:center;letter-spacing:-.02em}[data-theme=dark] .gemini-headline{color:#e3e3e3}.central-input-wrapper{width:100%;position:relative;margin-bottom:2rem}.gemini-input-box{width:100%;background:var(--input-bg);border:1px solid transparent;border-radius:24px;padding:1.25rem 1.5rem 3.5rem;box-shadow:0 2px 6px #0000000d,0 0 0 1px #0000000d;position:relative;transition:box-shadow .2s;display:flex;flex-direction:column}.gemini-input-box:focus-within{box-shadow:0 2px 12px #0000001a,0 0 0 1px #0000001a;background:var(--sheet-bg)}.central-textarea{border:none;background:transparent;width:100%;resize:none;font-size:1.1rem;line-height:1.5;color:var(--sheet-text);outline:none;padding:0;margin:0;min-height:24px}.input-actions{position:absolute;bottom:.75rem;right:1rem;display:flex;gap:.5rem;align-items:center}.central-send-btn{background:transparent;color:var(--sheet-text);border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .2s}.central-send-btn:hover:not(:disabled){background:#0000000d}.central-send-btn:disabled{color:#1f1f1f}[data-theme=dark] .central-send-btn{color:#e3e3e3}[data-theme=dark] .central-send-btn:not(:disabled):hover{background-color:#e3e3e314}.chat-textarea,.central-textarea{box-sizing:border-box}.empty-prompts-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:.75rem;margin:2rem auto 0;width:100%;max-width:700px}.prompt-card{background-color:#f0f4f9;border:1px solid transparent;color:#1f1f1f;padding:.75rem 1rem;border-radius:10px;cursor:pointer;text-align:left;transition:all .2s cubic-bezier(.2,0,0,1);font-size:.95rem;font-weight:500;line-height:1.4;display:flex;align-items:center;min-height:auto;position:relative;overflow:hidden}.prompt-card:hover{background-color:#e2e7eb;border-color:transparent;transform:translateY(-2px);box-shadow:0 4px 8px #0000000d}.prompt-icon{display:none}[data-theme=dark] .prompt-card{background-color:#1e1f20;border-color:#444746;color:#e3e3e3}[data-theme=dark] .prompt-card:hover{background-color:#282a2c;border-color:#5f6368}.prompt-card span:nth-child(2){font-weight:400}.export-menu-container{position:relative;display:inline-block}.export-main-btn{background-color:var(--primary-color);color:#fff;border:none;padding:.6rem 1.2rem;border-radius:6px;cursor:pointer;font-family:inherit;font-weight:500;display:flex;align-items:center;gap:.5rem;transition:background-color .2s}.export-main-btn:hover{background-color:#2563eb}.export-dropdown{position:absolute;top:100%;right:0;margin-top:.5rem;background-color:#fff;min-width:180px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border-radius:6px;border:1px solid #e5e7eb;z-index:50;overflow:hidden;animation:fadeIn .15s ease-out}.export-dropdown button{display:block;width:100%;padding:.75rem 1rem;text-align:left;background:none;border:none;color:#374151;font-size:.9rem;cursor:pointer;transition:background-color .1s}.sheet-footer{text-align:center;padding:2rem 1rem;margin-top:auto;color:var(--sheet-text)}.footer-attribution{margin:0 0 .4rem;font-size:.9rem;color:#6b7280}[data-theme=dark] .footer-attribution{color:#9ca3af}.footer-powered{display:flex;justify-content:center;align-items:center;gap:.3rem;font-size:.9rem;color:#9ca3af;margin-bottom:.3rem}.footer-powered a{color:#9ca3af;text-decoration:none;transition:color .2s}.footer-powered a:hover{color:var(--primary-color);text-decoration:underline}[data-theme=dark] .footer-powered,[data-theme=dark] .footer-powered a{color:#6b7280}.version-tag{color:#9ca3af}[data-theme=dark] .version-tag{color:#6b7280}.footer-legal{display:flex;justify-content:center;align-items:center;flex-wrap:wrap;gap:.4rem;font-size:.65rem;color:#b0b5bc}.footer-legal a{color:#b0b5bc;text-decoration:none;transition:color .2s}.footer-legal a:hover{color:var(--primary-color);text-decoration:underline}[data-theme=dark] .footer-legal,[data-theme=dark] .footer-legal a{color:#4b5563}.empty-content-msg{padding:1rem;background-color:#f9fafb;border:1px dashed #d1d5db;border-radius:6px;color:#6b7280;font-style:italic;text-align:center;margin-bottom:.5rem}.initial-toggles{position:absolute;top:1.5rem;right:140px;display:flex;gap:.5rem;z-index:50;direction:ltr}.initial-theme-toggle{background:transparent;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#5f6368;transition:background-color .2s;position:static}[data-theme=dark] .initial-theme-toggle{color:#e3e3e3}.initial-theme-toggle:hover{background-color:#0000000d}[data-theme=dark] .initial-theme-toggle:hover{background-color:#ffffff1a}html[dir=rtl] .prompt-card{text-align:right}@media(max-width:768px){.central-logo-text{font-size:13vw!important;flex-wrap:nowrap!important;white-space:nowrap!important}.central-logo-text .logo-serif,.central-logo-text .logo-sans{font-size:inherit!important}}.toast-container{position:fixed;bottom:24px;right:24px;z-index:9999;display:flex;flex-direction:column;gap:12px;pointer-events:none}.toast{display:flex;align-items:center;gap:12px;padding:14px 20px;border-radius:12px;background:#1f2937;color:#fff;font-size:.95rem;font-weight:500;box-shadow:0 10px 25px #00000040;animation:slideIn .3s ease-out;pointer-events:auto;max-width:400px}.toast-success{background:linear-gradient(135deg,#059669,#10b981)}.toast-error{background:linear-gradient(135deg,#dc2626,#ef4444)}.toast-info{background:linear-gradient(135deg,#1d4ed8,#3b82f6)}@keyframes slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}@media(max-width:768px){.toast-container{left:16px;right:16px;bottom:80px}.toast{max-width:100%}}.undo-redo-container{display:flex;gap:4px;margin-left:8px}.undo-redo-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:8px;border:1px solid var(--border-color);background:var(--sheet-bg);color:var(--sheet-text);cursor:pointer;transition:all .15s ease}.undo-redo-btn:hover:not(:disabled){background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.undo-redo-btn:disabled{opacity:.4;cursor:not-allowed}.undo-redo-btn svg{width:18px;height:18px}.new-sheet-btn{display:flex;align-items:center;gap:6px;padding:8px 14px;border-radius:8px;border:1px solid var(--border-color);background:var(--sheet-bg);color:var(--sheet-text);font-size:.85rem;font-weight:500;cursor:pointer;transition:all .15s ease;margin-left:8px}.new-sheet-btn:hover{background:var(--primary-color);color:#fff;border-color:var(--primary-color)}.new-sheet-btn svg{width:16px;height:16px}@media(max-width:768px){.new-sheet-btn span{display:none}.new-sheet-btn{padding:8px}}.custom-source-block{border-left:4px solid #f59e0b}.custom-title-input-wrapper{flex:1;margin-left:1rem}.custom-source-title{width:100%;border:none;background:transparent;font-size:1.1rem;font-weight:600;color:var(--sheet-text);outline:none;border-bottom:1px dashed transparent}.custom-source-title:focus{border-bottom:1px dashed var(--primary-color)}.custom-text-content{min-height:2em;padding:.5rem;background:#00000005;border-radius:4px}.section-header-block{position:relative;padding:.5rem 0}.section-header-block:hover .remove-btn{opacity:1}.section-header-input{width:100%;font-size:1.5rem;font-family:var(--font-english-serif);font-weight:700;border:none;border-bottom:2px solid var(--primary-color);background:transparent;color:var(--sheet-text);padding:.5rem 0;outline:none}.add-block-menu{display:flex;justify-content:center;margin:1rem 0}.add-block-buttons{display:flex;gap:.5rem;background:var(--bg-paper);padding:.25rem;border-radius:20px;box-shadow:0 2px 5px #0000001a;border:1px solid var(--border-color)}.add-block-btn{display:flex;align-items:center;gap:.5rem;background:transparent;border:none;padding:.5rem 1rem;border-radius:16px;cursor:pointer;font-size:.85rem;font-weight:500;color:var(--text-secondary);transition:all .2s}.add-block-btn:hover{background:var(--bg-hover);color:var(--primary-color)}.add-block-btn svg{opacity:.7}@media print{.sheet-toolbar,.custom-source-title,.section-header-input{border-bottom:none!important}.custom-source-title,.section-header-input{background:transparent!important}}.sheet-view{flex:1;background-color:var(--sheet-bg);overflow-y:auto;position:relative;display:flex;flex-direction:column;color:var(--sheet-text);scroll-behavior:smooth}.sheet-header{padding:1.5rem 3rem .5rem;background:transparent;display:flex;flex-direction:column;align-items:center;gap:1rem;flex-shrink:0}.title-input{font-family:var(--font-english-serif);font-size:2.5rem;font-weight:700;color:var(--sheet-text);border:none;background:transparent;text-align:center;width:100%;padding:.5rem;margin-top:1rem;outline:none;transition:border-color .2s}.title-input:hover,.title-input:focus{background:#00000005;border-radius:8px}.title-input::placeholder{color:var(--border-color);opacity:.6}.chat-sidebar-wrapper{height:100vh;background-color:var(--bg-paper);border-right:1px solid var(--border-color);display:flex;flex-direction:column;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;z-index:50;overflow:hidden}.chat-sidebar-wrapper.closed{width:0!important;min-width:0!important;opacity:0;border-right:none}.main-hamburger-btn{position:absolute;top:1.5rem;left:1.5rem;z-index:100;background:transparent;border:none;cursor:pointer;padding:8px;border-radius:50%;color:var(--sidebar-text);display:flex;align-items:center;justify-content:center;transition:background-color .2s}.main-hamburger-btn:hover{background-color:#0000000d}.main-hamburger-btn svg{width:24px;height:24px}@media(max-width:768px){.desktop-sidebar{display:none!important}.mobile-drawer{position:fixed!important;top:0;left:0;height:100vh!important;width:85vw!important;max-width:400px;z-index:150!important;box-shadow:2px 0 16px #0003;display:flex!important;border-right:none;animation:slideInLeft .3s cubic-bezier(.16,1,.3,1);background-color:var(--sidebar-bg)}}@keyframes slideInLeft{0%{transform:translate(-100%)}to{transform:translate(0)}}.mobile-chat-backdrop{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#00000080;z-index:140;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:fadeIn .3s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.sheet-view{position:relative;transition:padding-left .3s}.sheet-toolbar{display:flex;align-items:center;gap:1rem;background:var(--bg-paper);padding:.5rem 1rem;border-radius:50px;border:1px solid var(--border-color);box-shadow:0 2px 8px #0000000d;margin-bottom:2rem}.toolbar-group{display:flex;align-items:center;gap:.5rem}.toolbar-btn{background:transparent;border:1px solid transparent;color:var(--text-secondary);cursor:pointer;padding:8px 16px;border-radius:8px;font-size:.9rem;font-weight:500;display:flex;align-items:center;gap:8px;transition:all .2s}.primary-action-btn{background-color:rgba(var(--primary-rgb),.1);color:var(--primary-color);border-radius:20px}.primary-action-btn:hover{background-color:rgba(var(--primary-rgb),.2);transform:translateY(-1px)}.subtle-btn{padding:8px;border-radius:50%;color:#9ca3af}.subtle-btn:hover{background-color:#0000000d;color:var(--text-primary)}.toolbar-divider{width:1px;height:24px;background-color:var(--border-color);margin:0 .5rem}.sidebar-tabs{display:flex;background:var(--border-color);border-radius:8px;padding:4px;margin:1rem 1rem 0;gap:4px}.sidebar-tab{flex:1;background:transparent;border:none;padding:.6rem 1rem;font-size:.875rem;font-weight:500;color:var(--sidebar-text);cursor:pointer;border-radius:6px;transition:all .15s ease}.sidebar-tab.active{background:var(--sheet-bg);color:var(--sheet-text);box-shadow:0 1px 3px #0000001a}.sidebar-tab:hover:not(.active){background:#0000000d}.history-list{flex:1;overflow-y:auto;padding:1rem}.history-item{padding:.75rem;border-radius:8px;cursor:pointer;transition:background .2s;margin-bottom:.5rem;border:1px solid transparent}.history-item:hover{background:var(--bg-hover)}.history-item.active{background:var(--bg-secondary);border-color:var(--primary-color)}.history-title{font-weight:500;color:var(--text-primary);margin-bottom:.25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.history-meta{font-size:.75rem;color:var(--text-secondary)}.empty-history{text-align:center;color:var(--text-secondary);padding:2rem 1rem;display:flex;flex-direction:column;gap:.5rem}.home-container{min-height:100vh;background-color:var(--bg-primary);display:flex;flex-direction:column}.home-header{padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center}.dashboard-header{padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color);background-color:var(--bg-paper)}.landing-hero{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:2rem;background:radial-gradient(circle at 50% 30%,var(--bg-secondary) 0%,var(--bg-primary) 70%)}.hero-content h2{font-size:3rem;font-weight:700;margin-bottom:1rem;color:var(--text-primary);background:linear-gradient(135deg,var(--primary-color),#8e44ad);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}.hero-subtitle{font-size:1.25rem;color:var(--text-secondary);max-width:600px;margin-bottom:2.5rem;line-height:1.6}.cta-button{display:inline-flex;align-items:center;gap:.75rem;padding:.85rem 2rem;font-size:1.1rem;font-weight:600;border-radius:50px;border:none;cursor:pointer;transition:transform .2s,box-shadow .2s}.google-login{background-color:#fff;color:#333;box-shadow:0 4px 12px #0000001a}.google-login:hover{transform:translateY(-2px);box-shadow:0 6px 16px #00000026}.new-sheet-btn{background-color:var(--primary-color);color:#fff;box-shadow:0 4px 12px rgba(var(--primary-rgb),.3)}.new-sheet-btn:hover{background-color:var(--primary-hover);transform:translateY(-2px)}.dashboard-content{padding:2rem 3rem;max-width:1200px;margin:0 auto;width:100%}.welcome-section{display:flex;justify-content:space-between;align-items:center;margin-bottom:3rem}.sheets-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:1.5rem;margin-top:1.5rem}.sheet-card{background:var(--bg-paper);border:1px solid var(--border-color);border-radius:12px;overflow:hidden;cursor:pointer;transition:all .2s;display:flex;flex-direction:column;height:200px}.sheet-card:hover{transform:translateY(-4px);box-shadow:0 8px 20px #00000014;border-color:var(--primary-color)}.sheet-card-preview{flex:1;background-color:var(--bg-secondary);padding:1rem;position:relative}.preview-lines{height:8px;width:80%;background-color:var(--border-color);border-radius:4px;margin-bottom:8px;opacity:.5}.preview-lines:nth-child(2){width:60%}.sheet-card-footer{padding:1rem;border-top:1px solid var(--border-color);background-color:var(--bg-paper)}.sheet-title{font-size:1rem;font-weight:600;margin:0 0 .25rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;color:var(--text-primary)}.sheet-date{font-size:.8rem;color:var(--text-secondary)}.user-profile .avatar{width:36px;height:36px;border-radius:50%;border:2px solid var(--primary-color)}.history-list{padding:.5rem;display:flex;flex-direction:column;gap:.5rem}.history-item{padding:12px 16px;border-radius:20px;cursor:pointer;transition:all .2s;color:var(--sheet-text);border:1px solid transparent;background-color:transparent}.history-item:hover{background-color:#0000000a}[data-theme=dark] .history-item:hover{background-color:#ffffff14}.history-item.active{background-color:var(--primary-light-bg, rgba(59, 130, 246, .1));color:var(--primary-color);font-weight:500}.history-title{font-size:1rem;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:2px}.history-meta{font-size:.8rem;color:#9ca3af}.sidebar-toggle-btn:hover{background-color:#0000000d!important}[data-theme=dark] .sidebar-toggle-btn:hover{background-color:#ffffff1a!important}.new-chat-btn-sidebar{background:linear-gradient(135deg,#8b5cf6,#f97316)!important;color:#fff!important;box-shadow:0 4px 6px #0000001a;border:none;font-weight:600;transition:all .2s ease}.new-chat-btn-sidebar:hover{box-shadow:0 6px 12px #00000026;transform:translateY(-1px);filter:brightness(1.05)}.central-logo-hero{font-family:var(--font-english-serif);font-size:3rem;background:linear-gradient(135deg,#8b5cf6,#f97316);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:.5rem;letter-spacing:-.03em;font-weight:700}.gemini-suggestions{display:grid!important;grid-template-columns:repeat(3,1fr);gap:.75rem;margin:2rem auto 0;width:100%;max-width:700px}@media(max-width:768px){.gemini-suggestions{grid-template-columns:repeat(2,1fr)}}@media(max-width:500px){.gemini-suggestions{grid-template-columns:1fr}}.hero-logo-img{max-width:400px;height:auto;margin-bottom:2rem;transition:opacity .3s}.gemini-pill{border-radius:12px!important;padding:1rem 1.25rem!important;font-family:var(--font-ui);font-size:.9rem!important;font-weight:400!important;line-height:1.5;color:#334155;background:#f8fafc;border:1px solid #e2e8f0;box-shadow:none;transition:all .15s ease-out;text-align:left;display:flex!important;justify-content:flex-start;align-items:flex-start;min-height:auto;cursor:pointer}.gemini-pill:hover{background:#f1f5f9;border-color:#cbd5e1;box-shadow:0 2px 4px #0000000a}.gemini-pill:active{transform:scale(.98)}.pill-icon{display:none!important}.pill-text{width:100%}[data-theme=dark] .gemini-pill{background:#1e293b;color:#e2e8f0;border-color:#334155}[data-theme=dark] .gemini-pill:hover{background:#334155;border-color:#475569}.sidebar-logo-text{background:linear-gradient(135deg,#8b5cf6,#f97316);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}

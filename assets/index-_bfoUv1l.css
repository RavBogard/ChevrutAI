body{margin:0;padding:0}:root{--primary-color: #3b82f6;--accent-color: #6366f1;--sidebar-bg: #111827;--sidebar-text: #f3f4f6;--sheet-bg: #ffffff;--sheet-text: #1f2937;--message-user-bg: #3b82f6;--message-bot-bg: #1f2937;--border-color: #374151;--font-ui: "Inter", system-ui, sans-serif;--font-english-serif: "Merriweather", serif;--source-bg: #ffffff;--input-bg: #f9fafb}body.dark-mode{--sheet-bg: #111827;--sheet-text: #f3f4f6;--source-bg: #1f293b;--border-color: #374151;--input-bg: #374151}body{margin:0;padding:0;overflow:hidden;font-family:var(--font-ui);transition:background-color .3s,color .3s}.app-container{display:flex;width:100vw;height:100vh;background-color:var(--sidebar-bg);color:var(--sheet-text);overflow:hidden}.chat-sidebar{width:30%;min-width:320px;max-width:450px;background-color:var(--sidebar-bg);color:var(--sidebar-text);display:flex;flex-direction:column;border-right:1px solid var(--border-color);box-shadow:2px 0 10px #0000004d;z-index:10}.chat-header{padding:1.5rem;border-bottom:1px solid var(--border-color);background:#111827f2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);position:relative}.header-top-row{display:block;width:100%}.header-controls{position:absolute;top:1.5rem;right:1.5rem;display:flex;align-items:center;gap:8px;background:#11182780;border-radius:20px}.messages-list{flex:1;overflow-y:auto;padding:1rem;display:flex;flex-direction:column;gap:1rem}.empty-prompts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin:2rem auto 0;width:100%;max-width:800px}.prompt-card{background:#fff;border:1px solid var(--border-color);padding:1rem 1.5rem;border-radius:12px;cursor:pointer;text-align:left;transition:all .2s ease;box-shadow:0 2px 4px #00000005;display:flex;align-items:center;gap:.8rem;color:var(--sheet-text);font-size:.95rem}.initial-theme-toggle{position:absolute;top:1.5rem;right:1.5rem;width:40px;height:40px;border-radius:50%;background:#ffffff1a;border:1px solid var(--border-color);color:var(--sheet-text);display:flex;align-items:center;justify-content:center;cursor:pointer;z-index:50;transition:all .2s}.initial-theme-toggle:hover{background:#fff3;transform:scale(1.05)}.prompt-card:hover{transform:translateY(-2px);border-color:var(--primary-color);box-shadow:0 4px 12px #3b82f626}.prompt-icon{font-size:1.2rem}body.dark-mode .prompt-card{background:#ffffff0d;border-color:var(--border-color);color:var(--sheet-text)}.chat-input-container{padding:0 1.5rem 2rem;background-color:var(--sidebar-bg);flex-shrink:0;position:relative;z-index:20;margin-top:1rem}.chat-textarea{width:100%;min-height:60px;max-height:200px;padding:16px 54px 16px 20px;border-radius:24px;border:1px solid var(--border-color);background-color:#374151;color:#fff;font-family:inherit;font-size:1rem;line-height:1.5;resize:none;display:block;outline:none;transition:border-color .2s,box-shadow .2s,background-color .2s;overflow-y:hidden;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f}.chat-textarea:not([style*="height: auto"]){overflow-y:auto}.chat-textarea:focus{border-color:var(--primary-color);background-color:#4b5563;box-shadow:0 0 0 2px #3b82f64d,0 10px 15px -3px #0000001a}.chat-textarea::placeholder{color:#9ca3af;opacity:.8}.send-button{position:absolute;right:8px;bottom:8px;width:36px;height:36px;border-radius:8px;background-color:var(--primary-color);color:#fff;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s}.send-button:disabled{background-color:#4b5563;color:#9ca3af;cursor:not-allowed;opacity:.7}.send-button:not(:disabled):hover{background-color:#2563eb;transform:scale(1.05)}.theme-toggle-btn{background:transparent;border:1px solid transparent;width:36px;height:36px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#9ca3af;transition:all .2s}.theme-toggle-btn:hover{background-color:#ffffff1a;color:#f3f4f6}body.dark-mode .prompt-card:hover{background:#ffffff14;border-color:var(--primary-color)}.loading-indicator{padding:1rem;background-color:var(--message-bot-bg);border:1px solid var(--border-color);border-radius:12px 12px 12px 2px;align-self:flex-start;color:#9ca3af;font-size:.9rem;display:flex;flex-direction:column;gap:.5rem;animation:fadeIn .3s ease}.typing-dots{display:flex;gap:4px}.typing-dot{width:6px;height:6px;border-radius:50%;background-color:#9ca3af;animation:typing 1.4s infinite ease-in-out both}.typing-dot:nth-child(1){animation-delay:-.32s}.typing-dot:nth-child(2){animation-delay:-.16s}@keyframes typing{0%,80%,to{transform:scale(0);opacity:.5}40%{transform:scale(1);opacity:1}}.sheet-view{flex:1;background-color:var(--sheet-bg);color:var(--sheet-text);overflow-y:auto;padding:2rem 4rem;display:flex;flex-direction:column;align-items:center}.sheet-header{text-align:center;margin-bottom:3rem;border-bottom:2px solid #e5e7eb;padding-bottom:1rem;width:100%;max-width:900px}.sheet-header h1{font-family:var(--font-english-serif);font-size:2.5rem;color:#111827;margin:0}.sheet-meta{color:#6b7280;font-style:italic;margin-top:.5rem}.sheet-paper{width:100%;max-width:900px;display:flex;flex-direction:column;gap:2rem}.empty-state{text-align:center;color:#9ca3af;margin-top:4rem;font-size:1.1rem}.source-block{background:var(--source-bg);color:var(--sheet-text);border-left:4px solid var(--primary-color);padding:1rem 1.5rem;box-shadow:0 4px 6px -1px #0000000d;border-radius:0 8px 8px 0;transition:all .2s}.source-block:hover{box-shadow:0 10px 15px -3px #0000001a}.source-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;border-bottom:1px solid #f3f4f6;padding-bottom:.5rem}.source-header h3{margin:0;font-family:var(--font-english-serif);color:var(--primary-color);font-size:1.2rem}.source-controls{display:flex;gap:.5rem;align-items:center}.view-toggle{padding:.3rem;border-radius:4px;border:1px solid var(--border-color);font-size:.8rem;color:var(--sheet-text);background-color:var(--source-bg)}.remove-btn{background:transparent;color:#9ca3af;border:none;font-size:1.2rem;line-height:1;padding:0 .4rem}.remove-btn:hover{color:#ef4444;background:transparent}.source-content{display:flex;gap:2rem;font-size:1.1rem;line-height:1.6}.text-eng,.text-heb{flex:1}.text-eng{font-family:var(--font-english-serif)}.text-heb{font-family:var(--font-hebrew);text-align:right;font-size:1.3rem}.view-english .text-heb,.view-hebrew .text-eng{display:none}@media(max-width:768px){.app-container{flex-direction:column;height:100vh;overflow:hidden}.sheet-view{height:100%;width:100%;padding:1rem;overflow-y:auto;padding-bottom:80px}.chat-sidebar{position:fixed;bottom:0;left:0;width:100%;height:85vh;max-height:85vh;background-color:var(--sidebar-bg);z-index:100;border-radius:20px 20px 0 0;box-shadow:0 -4px 20px #0006;transform:translateY(110%);transition:transform .3s cubic-bezier(.16,1,.3,1);border-right:none;display:flex}.chat-sidebar.mobile-open{transform:translateY(0)}.chat-header{padding:1rem;display:flex;flex-direction:column;align-items:flex-start}.header-top-row{display:flex;width:100%;justify-content:space-between;align-items:center}.sidebar-logo{max-height:40px!important;min-height:0;width:auto;padding-right:0;margin-bottom:0}.header-controls{position:static;background:transparent;padding:0}.mobile-close-btn{display:block;background:none;border:none;color:#9ca3af;font-size:2rem;cursor:pointer;padding:0 .5rem}.mobile-chat-fab{display:flex;align-items:center;justify-content:center;position:fixed;bottom:20px;right:20px;width:56px;height:56px;border-radius:50%;background-color:var(--primary-color);color:#fff;border:none;box-shadow:0 4px 12px #0000004d;z-index:90;cursor:pointer;transition:transform .2s}.mobile-chat-fab:active{transform:scale(.95)}.mobile-chat-backdrop{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;z-index:95;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:fadeBackdrop .3s}.sheet-header h1,.title-input{font-size:1.8rem}.source-content{flex-direction:column;gap:1rem}.text-heb{order:1;text-align:right}.text-eng{order:2}}@media(min-width:769px){.mobile-chat-fab,.mobile-close-btn,.mobile-chat-backdrop{display:none!important}}@keyframes fadeBackdrop{0%{opacity:0}to{opacity:1}}.header-actions{margin-top:1rem}.export-btn{background-color:var(--primary-color);color:#fff;border:none;padding:.5rem 1rem;border-radius:6px;cursor:pointer;font-family:inherit;font-size:.875rem;transition:opacity .2s}.google-btn{background:#4285f4;margin-right:.5rem}.google-btn:disabled{background:#a0c3ff;cursor:not-allowed}.export-btn:hover{background-color:#2563eb}.header-left{display:flex;align-items:center;gap:.8rem}.drag-handle{touch-action:none;cursor:grab;display:flex;align-items:center;justify-content:center;padding:.2rem;border-radius:4px;transition:background .2s}.drag-handle:hover{background-color:#f3f4f6}.drag-handle:active{cursor:grabbing}.source-header h3{margin:0}.sortable-item{touch-action:manipulation}.sidebar-logo{width:100%;height:auto;min-height:48px;object-fit:contain;display:block;margin-bottom:0;padding-right:60px}.version-select{padding:.3rem;border-radius:4px;border:1px solid #d1d5db;font-size:.8rem;color:#374151;background-color:#fff;text-overflow:ellipsis}.version-label{display:block;margin-top:.5rem;font-size:.75rem;color:#9ca3af;font-style:italic;font-family:var(--font-ui)}.loading-text{color:#6b7280;font-style:italic;text-align:center;width:100%}.sheet-footer{margin-top:3rem;padding:2rem;text-align:center;color:#9ca3af;font-size:.9rem;border-top:1px solid #e5e7eb;width:100%;max-width:900px}.sheet-footer a{color:var(--primary-color);text-decoration:none}.sheet-footer a:hover{text-decoration:underline}.footer-legal{margin-top:.5rem;font-size:.8rem}.version-tag{color:#6b7280;font-size:.75rem;opacity:.8}.title-input{font-family:var(--font-english-serif);font-size:2.5rem;color:var(--sheet-text);text-align:center;border:none;border-bottom:2px solid transparent;background:transparent;width:100%;max-width:900px;outline:none;padding:.5rem;transition:border-color .2s}.title-input:focus{border-bottom-color:var(--primary-color)}.export-success-msg{margin:1rem 0;padding:1rem;background-color:#ecfdf5;border:1px solid #10b981;border-radius:8px;animation:fadeIn .5s}.open-doc-link{color:#059669;font-weight:700;font-size:1.1rem;text-decoration:none}.open-doc-link:hover{text-decoration:underline}.central-hero{text-align:center;margin-bottom:2rem;width:100%;max-width:700px;margin:0 auto 3rem}.central-hero h2{font-size:2rem;margin-bottom:.5rem;color:var(--sheet-text)}.central-hero p{color:#6b7280;margin-bottom:2rem}.central-input-wrapper{position:relative;width:100%}.central-textarea{width:100%;min-height:56px;padding:16px 60px 16px 20px;border-radius:28px;border:1px solid var(--border-color);background-color:var(--input-bg);box-shadow:0 4px 12px #00000014;font-family:inherit;font-size:1.1rem;resize:none;overflow-y:hidden;outline:none;transition:all .2s;color:var(--sheet-text);line-height:1.5}body.dark-mode .central-textarea{background-color:#374151;border-color:#4b5563;color:#fff}.central-textarea:focus{box-shadow:0 8px 20px #3b82f626;border-color:var(--primary-color)}.central-send-btn{position:absolute;right:8px;top:8px;width:40px;height:40px;border-radius:50%;background-color:var(--primary-color);color:#fff;border:none;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s}.central-send-btn:disabled{background-color:#9ca3af;opacity:.7;cursor:not-allowed}.central-send-btn:not(:disabled):hover{transform:scale(1.05);background-color:#2563eb}.export-menu-container{position:relative;display:inline-block}.export-main-btn{background-color:var(--primary-color);color:#fff;border:none;padding:.6rem 1.2rem;border-radius:6px;cursor:pointer;font-family:inherit;font-weight:500;display:flex;align-items:center;gap:.5rem;transition:background-color .2s}.export-main-btn:hover{background-color:#2563eb}.export-dropdown{position:absolute;top:100%;right:0;margin-top:.5rem;background-color:#fff;min-width:180px;box-shadow:0 10px 15px -3px #0000001a,0 4px 6px -2px #0000000d;border-radius:6px;border:1px solid #e5e7eb;z-index:50;overflow:hidden;animation:fadeIn .15s ease-out}.export-dropdown button{display:block;width:100%;padding:.75rem 1rem;text-align:left;background:none;border:none;color:#374151;font-size:.9rem;cursor:pointer;transition:background-color .1s}.export-dropdown button:hover{background-color:#f3f4f6;color:var(--primary-color)}
